import{S as ae,i as oe,s as le,e as s,t as M,k as S,c as r,a as d,h as O,d as l,m as T,b as t,g as ne,G as e,$ as D,H as A,aa as de,I as re,X as ie,M as ue,v as pe}from"../../chunks/vendor-687c3837.js";import{g as ce}from"../../chunks/navigation-0e6511d1.js";import{s as fe,i as we}from"../../chunks/store-6cd925d3.js";import"../../chunks/singletons-d1fb5791.js";function he(c){let f,i,b,V,n,a,w,h,y,B,L,o,g,u,E,k,R,v,F,P,N,G,J,m,X,U,I,z,K,Q;return{c(){f=s("div"),i=s("div"),b=s("h1"),V=M("Change Password"),n=S(),a=s("form"),w=s("div"),h=s("div"),y=s("label"),B=M("Old Password*"),L=S(),o=s("input"),g=S(),u=s("div"),E=s("label"),k=M("New Password*"),R=S(),v=s("input"),F=S(),P=s("div"),N=s("label"),G=M("Confirm Password*"),J=S(),m=s("input"),X=S(),U=s("div"),I=s("button"),z=M("SUBMIT"),this.h()},l(p){f=r(p,"DIV",{});var _=d(f);i=r(_,"DIV",{class:!0});var W=d(i);b=r(W,"H1",{});var Y=d(b);V=O(Y,"Change Password"),Y.forEach(l),W.forEach(l),n=T(_),a=r(_,"FORM",{class:!0});var j=d(a);w=r(j,"DIV",{});var C=d(w);h=r(C,"DIV",{class:!0});var q=d(h);y=r(q,"LABEL",{for:!0});var Z=d(y);B=O(Z,"Old Password*"),Z.forEach(l),L=T(q),o=r(q,"INPUT",{type:!0,id:!0}),q.forEach(l),g=T(C),u=r(C,"DIV",{class:!0});var x=d(u);E=r(x,"LABEL",{for:!0});var $=d(E);k=O($,"New Password*"),$.forEach(l),R=T(x),v=r(x,"INPUT",{type:!0,id:!0}),x.forEach(l),F=T(C),P=r(C,"DIV",{class:!0});var H=d(P);N=r(H,"LABEL",{for:!0});var ee=d(N);G=O(ee,"Confirm Password*"),ee.forEach(l),J=T(H),m=r(H,"INPUT",{type:!0,id:!0}),H.forEach(l),C.forEach(l),X=T(j),U=r(j,"DIV",{class:!0});var te=d(U);I=r(te,"BUTTON",{class:!0,type:!0});var se=d(I);z=O(se,"SUBMIT"),se.forEach(l),te.forEach(l),j.forEach(l),_.forEach(l),this.h()},h(){t(i,"class","bg-sky-400 text-white text-2xl w-full mt-2 p-1 rounded flex flex-row justify-between items-center"),t(y,"for","pwd1"),t(o,"type","password"),t(o,"id","pwd1"),o.required=!0,t(h,"class","mt-2 field"),t(E,"for","pwd1"),t(v,"type","password"),t(v,"id","pwd1"),v.required=!0,t(u,"class","mt-2 field"),t(N,"for","confirmpwd"),t(m,"type","password"),t(m,"id","confirmpwd"),m.required=!0,t(P,"class","mt-2 field"),t(I,"class","bg-blue-500 text-white w-1/4 hover:bg-blue-400 py-2 px-4 rounded"),t(I,"type","submit"),t(U,"class","mt-2 border-t py-2 text-center"),t(a,"class","p-2 flex flex-col gap-2 mx-auto w-4/5")},m(p,_){ne(p,f,_),e(f,i),e(i,b),e(b,V),e(f,n),e(f,a),e(a,w),e(w,h),e(h,y),e(y,B),e(h,L),e(h,o),D(o,c[0].oldpwd),e(w,g),e(w,u),e(u,E),e(E,k),e(u,R),e(u,v),D(v,c[0].newpwd),e(w,F),e(w,P),e(P,N),e(N,G),e(P,J),e(P,m),D(m,c[1]),e(a,X),e(a,U),e(U,I),e(I,z),K||(Q=[A(o,"input",c[4]),A(v,"input",c[5]),A(m,"blur",c[3]),A(m,"input",c[6]),A(a,"submit",de(c[2]))],K=!0)},p(p,[_]){_&1&&o.value!==p[0].oldpwd&&D(o,p[0].oldpwd),_&1&&v.value!==p[0].newpwd&&D(v,p[0].newpwd),_&2&&m.value!==p[1]&&D(m,p[1])},i:re,o:re,d(p){p&&l(f),K=!1,ie(Q)}}}function me(c,f,i){let b;ue(c,we,o=>i(7,b=o));const V="http://103.85.229.82:4400/dbapi";let n={email:"",oldpwd:"",newpwd:""},a="";const w=async()=>{if(!h())return;const o=`${V}/user/changepwd`;try{const g={method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)},u=await fetch(o,fe(g));if(u.status==200)await u.json(),alert("User Record Submitted Successfully"),ce("/logout");else{const E=await u.json();alert(E.error)}}catch(g){console.log("****",g),alert(g)}},h=()=>n.newpwd!=a?(alert("Password Not Matching"),!1):!0;pe(()=>{i(0,n.email=b.email,n)});function y(){n.oldpwd=this.value,i(0,n)}function B(){n.newpwd=this.value,i(0,n)}function L(){a=this.value,i(1,a)}return[n,a,w,h,y,B,L]}class ge extends ae{constructor(f){super();oe(this,f,me,he,le,{})}}export{ge as default};
