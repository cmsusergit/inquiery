import{S,i as U,s as F,e as g,k as D,c as b,a as v,m as E,d as m,b as k,g as L,G as _,a3 as I,a4 as G,t as w,h as q,j,P as M,I as y,M as N,v as P,ac as Q}from"../../chunks/vendor-687c3837.js";import{p as R}from"../../chunks/stores-39e70469.js";import{g as V,s as C}from"../../chunks/store-6cd925d3.js";function T(n,t,r){const o=n.slice();return o[10]=t[r],o}function B(n,t,r){const o=n.slice();return o[13]=t[r],o}function z(n){return{c:y,l:y,m:y,p:y,d:y}}function J(n){var l;let t,r=((l=n[16][0])==null?void 0:l.username)+"",o,i,d=(n[16][0]?n[2].find(s).dept_name:"-")+"",c,h;function s(...a){return n[3](n[16],...a)}return{c(){t=g("div"),o=w(r),i=w(" ("),c=w(d),h=w(")"),this.h()},l(a){t=b(a,"DIV",{class:!0});var e=v(t);o=q(e,r),i=q(e," ("),c=q(e,d),h=q(e,")"),e.forEach(m),this.h()},h(){k(t,"class","bg-orange-400 text-white w-full p-2 font-bold")},m(a,e){L(a,t,e),_(t,o),_(t,i),_(t,c),_(t,h)},p(a,e){var f;n=a,e&2&&r!==(r=((f=n[16][0])==null?void 0:f.username)+"")&&j(o,r),e&6&&d!==(d=(n[16][0]?n[2].find(s).dept_name:"-")+"")&&j(c,d)},d(a){a&&m(t)}}}function K(n){let t,r;return{c(){t=g("div"),r=w("Loading....")},l(o){t=b(o,"DIV",{});var i=v(t);r=q(i,"Loading...."),i.forEach(m)},m(o,i){L(o,t,i),_(t,r)},p:y,d(o){o&&m(t)}}}function A(n){let t,r,o=n[0].find(a).faq+"",i,d,c,h=(n[13].remarks?n[13].remarks:"-")+"",s,l;function a(...e){return n[4](n[13],...e)}return{c(){t=g("tr"),r=g("td"),i=w(o),d=D(),c=g("td"),s=w(h),l=D(),this.h()},l(e){t=b(e,"TR",{class:!0});var f=v(t);r=b(f,"TD",{class:!0});var u=v(r);i=q(u,o),u.forEach(m),d=E(f),c=b(f,"TD",{class:!0});var p=v(c);s=q(p,h),p.forEach(m),l=E(f),f.forEach(m),this.h()},h(){k(r,"class","py-2 w-1/2 font-bold"),k(c,"class","py-2 w-1/2"),k(t,"class","p-2 border-b")},m(e,f){L(e,t,f),_(t,r),_(r,i),_(t,d),_(t,c),_(c,s),_(t,l)},p(e,f){n=e,f&3&&o!==(o=n[0].find(a).faq+"")&&j(i,o),f&2&&h!==(h=(n[13].remarks?n[13].remarks:"-")+"")&&j(s,h)},d(e){e&&m(t)}}}function H(n){let t,r,o,i,d,c={ctx:n,current:null,token:null,hasCatch:!1,pending:K,then:J,catch:z,value:16};I(r=V(n[10]),c);let h=n[1][n[10]],s=[];for(let l=0;l<h.length;l+=1)s[l]=A(B(n,h,l));return{c(){t=g("div"),c.block.c(),o=D(),i=g("table");for(let l=0;l<s.length;l+=1)s[l].c();d=D(),this.h()},l(l){t=b(l,"DIV",{class:!0});var a=v(t);c.block.l(a),o=E(a),i=b(a,"TABLE",{class:!0});var e=v(i);for(let f=0;f<s.length;f+=1)s[f].l(e);e.forEach(m),d=E(a),a.forEach(m),this.h()},h(){k(i,"class","w-full"),k(t,"class","mt-4 text-lg")},m(l,a){L(l,t,a),c.block.m(t,c.anchor=null),c.mount=()=>t,c.anchor=o,_(t,o),_(t,i);for(let e=0;e<s.length;e+=1)s[e].m(i,null);_(t,d)},p(l,a){if(n=l,c.ctx=n,a&2&&r!==(r=V(n[10]))&&I(r,c)||G(c,n,a),a&3){h=n[1][n[10]];let e;for(e=0;e<h.length;e+=1){const f=B(n,h,e);s[e]?s[e].p(f,a):(s[e]=A(f),s[e].c(),s[e].m(i,null))}for(;e<s.length;e+=1)s[e].d(1);s.length=h.length}},d(l){l&&m(t),c.block.d(),c.token=null,c=null,M(s,l)}}}function W(n){let t,r,o,i,d,c,h=Object.keys(n[1]),s=[];for(let l=0;l<h.length;l+=1)s[l]=H(T(n,h,l));return{c(){t=g("div"),r=D(),o=g("div"),i=g("h1"),d=w("Comment/Discussion"),c=D();for(let l=0;l<s.length;l+=1)s[l].c();this.h()},l(l){t=b(l,"DIV",{class:!0});var a=v(t);r=E(a),o=b(a,"DIV",{class:!0});var e=v(o);i=b(e,"H1",{class:!0});var f=v(i);d=q(f,"Comment/Discussion"),f.forEach(m),e.forEach(m),c=E(a);for(let u=0;u<s.length;u+=1)s[u].l(a);a.forEach(m),this.h()},h(){k(i,"class",""),k(o,"class","bg-sky-400 text-white w-full text-2xl mt-2 px-2 py-1 flex justify-between rounded"),k(t,"class","container")},m(l,a){L(l,t,a),_(t,r),_(t,o),_(o,i),_(i,d),_(t,c);for(let e=0;e<s.length;e+=1)s[e].m(t,null)},p(l,[a]){if(a&7){h=Object.keys(l[1]);let e;for(e=0;e<h.length;e+=1){const f=T(l,h,e);s[e]?s[e].p(f,a):(s[e]=H(f),s[e].c(),s[e].m(t,null))}for(;e<s.length;e+=1)s[e].d(1);s.length=h.length}},i:y,o:y,d(l){l&&m(t),M(s,l)}}}function X(n,t,r){let o;N(n,R,u=>r(5,o=u));const i="http://103.85.229.82:4400/dbapi";let d=[],c=[],h=[];const s=async()=>{try{const p=await(await fetch(`${i}/inquery/${o.params.id}/comment/-1`,C())).json();r(1,c=Q.exports.groupBy(p,O=>O.f_inquiryhandled_id))}catch(u){r(1,c=[]),console.log(u)}},l=async()=>{try{const u=await fetch(`${i}/dept`,C());r(2,h=await u.json())}catch(u){r(2,h=[]),console.log(u)}},a=async()=>{try{const p=await(await fetch(`${i}/inquery/inquiryfaq`,C())).json();r(0,d=p)}catch(u){console.log(u)}};return P(async()=>{l(),a(),s()}),[d,c,h,(u,p)=>p.id==u[0].f_dept_id,(u,p)=>p.id==u.f_faq_id]}class x extends S{constructor(t){super();U(this,t,X,W,F,{})}}export{x as default};
